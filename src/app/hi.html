<js-element
    js="(function() {if(number.value == 5) return 'GOOD'; else return number.value;})()"
    update="number"
    type="js"
    >Number</js-element
>
<button onclick="increment()">Increment</button>

<js-element type="if" update="number" js="number.value == 5">
    <p>Number is 5</p>
</js-element>
<js-element type="elif" update="number" js="number.value == 3">
    <p>Number is not 5 but 3</p>
</js-element>
<js-element type="else" update="number">
    <p>
        Number is neither 5 nor 3, instead, it's
        <js-element type="js" update="number" js="number.value"
            >Number</js-element
        >
    </p>
</js-element>

<js-element type="each" update="numbers" js="numbers.value" element="element">
    <div>
        <p>
            Number is:
            <js-element type="js" update="numbers" js="element"
                >Number</js-element
            >
        </p>
    </div>
</js-element>

<button onclick="numbers.set([...numbers.value, number.value])">
    Add to numbers
</button>

<js-element
    type="each"
    update="theMatrix"
    js="theMatrix.value"
    element="level1"
>
    <div>
        <div>
            <js-element
                type="each"
                update="theMatrix"
                js="level1"
                element="level2"
                style="display: flex; flex-direction: row"
            >
                <js-element type="js" update="theMatrix" js="level2"
                    >Element</js-element
                >
                <js-element type="if" update="theMatrix" js="level2 != 5"
                    >.</js-element
                >
                <js-element type="else" update="theMatrix">,</js-element>
            </js-element>
        </div>
    </div>
</js-element>
<button onclick="theMatrix.set([...theMatrix.value, numbers.value])">
    Add to matrix
</button>
<script>
    const number = new dynamicVariable("number", 0);
    const numbers = new dynamicVariable("numbers", []);

    const theMatrix = new dynamicVariable("theMatrix", [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9],
    ]);

    function increment() {
        number.set(number.value + 1);
    }
</script>
